import React, { useState, useContext } from 'react'
import Element from './Element';
import { StateContext } from '../../States';
import UserIcon from './UserIcon';

function Dropdown(props) {
   const [visible, setVisible] = useState(false);
   const [state, setState] = useContext(StateContext);


   const changeVisibility = () => {
      setVisible(!visible)
   }

   return (
      <>
         <UserIcon onClick={changeVisibility} changeVisibility="changeVisibility" w="10" h="10"/>
         {visible &&
            (
               <>
               <div onClick={changeVisibility} className='overlay z-1 w-screen h-screen fixed bottom-0 left-0 right-0 top-0'></div>
               <ul className='bg-white z-2 text-black mt-3 fixed right-3 rounded-3xl grid gap-y-4 min-w-[300px]'>
                  <Element name="Home" class="rounded-t-3xl" to="/" d={["M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"]}/>
                  <Element name="Upgrade" to="/upgrade" viewBox="0 0 51 52" pathClass="" 
                  d={
                     ["M6.81553 17.7409C2.93463 21.7777 0 25.0328 0 25.5019C0 25.9688 2.95144 29.1967 6.84763 33.2083C6.94908 38.8389 7.1478 43.23 7.42256 43.5048C7.69837 43.7806 12.1164 43.9846 17.7727 44.0903C21.8445 48.0193 25.1101 51.0035 25.5 51.0035C25.889 51.0035 29.1415 48.0389 33.2012 44.1287C38.7806 44.0474 43.1418 43.848 43.485 43.5048C43.8295 43.1602 44.0599 38.7966 44.1697 33.2149C48.0573 29.2121 51 25.9872 51 25.5019C51 25.0133 48.0625 21.7495 44.1788 17.7106C44.0746 12.1488 43.8454 7.80039 43.485 7.43999C43.1253 7.08024 38.7874 6.85588 33.2359 6.75592C29.2373 2.90481 26.0089 0.000183105 25.5 0.000183105C24.991 0.000183105 21.7614 2.91259 17.7618 6.77119C12.1478 6.88101 7.75483 7.1077 7.42256 7.43999C7.09225 7.77033 6.89685 12.1446 6.81553 17.7409Z",
                     "M30.128 21.9237C30.0061 21.9069 29.8891 21.8644 29.7848 21.7991C29.6805 21.7338 29.5912 21.6471 29.5229 21.5447C29.4546 21.4424 29.4088 21.3267 29.3885 21.2054C29.3683 21.0841 29.374 20.9598 29.4053 20.8408L30.7532 15.6648C30.7868 15.5357 30.7904 15.4006 30.7637 15.2699C30.7369 15.1393 30.6806 15.0164 30.599 14.9109C30.5174 14.8054 30.4127 14.7199 30.2929 14.6611C30.1731 14.6023 30.0414 14.5717 29.9079 14.5717H21.8524C20.0053 14.5735 18.2277 15.2757 16.8786 16.5366C15.5295 17.7974 14.7095 19.523 14.5842 21.3646C14.4589 23.2063 15.0376 25.0269 16.2035 26.4587C17.3693 27.8904 19.0354 28.8267 20.8653 29.0783C20.9872 29.0953 21.1041 29.1379 21.2083 29.2032C21.3125 29.2686 21.4017 29.3553 21.4699 29.4576C21.5382 29.5599 21.584 29.6755 21.6044 29.7967C21.6248 29.918 21.6192 30.0422 21.588 30.1612L20.2402 35.3372C20.2065 35.4663 20.2029 35.6014 20.2297 35.7321C20.2564 35.8627 20.3127 35.9856 20.3943 36.0911C20.476 36.1966 20.5807 36.2821 20.7005 36.3409C20.8203 36.3997 20.952 36.4303 21.0854 36.4303H29.1409C30.9881 36.4285 32.7657 35.7263 34.1147 34.4654C35.4638 33.2046 36.2838 31.479 36.4091 29.6374C36.5345 27.7957 35.9557 25.9751 34.7899 24.5433C33.624 23.1116 31.9579 22.1753 30.128 21.9237V21.9237ZM29.9817 29.1418H22.6148C22.4215 29.1416 22.2338 29.0774 22.0808 28.9592C21.9279 28.8411 21.8185 28.6756 21.7696 28.4887L20.3275 22.9509C20.2939 22.8219 20.2903 22.6868 20.317 22.5561C20.3438 22.4255 20.4001 22.3026 20.4817 22.1971C20.5633 22.0916 20.668 22.0061 20.7878 21.9473C20.9076 21.8885 21.0393 21.8579 21.1728 21.8579H28.5385C28.732 21.8579 28.92 21.922 29.0732 22.0402C29.2263 22.1583 29.3359 22.3239 29.3849 22.511L30.8269 28.0488C30.8606 28.1779 30.8641 28.3129 30.8374 28.4436C30.8107 28.5743 30.7544 28.6971 30.6727 28.8026C30.5911 28.9082 30.4864 28.9936 30.3666 29.0524C30.2468 29.1112 30.1151 29.1418 29.9817 29.1418Z"]}/>
                  <Element name="Profilo" to="/profilo" d={["M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"]}/>
                  <Element name="Abbonamento" to="/abbonamento" d={["M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 002.25-2.25V6.75A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25v10.5A2.25 2.25 0 004.5 19.5z"]}/>
                  <Element onClick={()=> setState( !(state) )} name="Disconnetti" class="rounded-b-3xl border-t" d={["M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"]}/>
               </ul>
               </>
             
            )}
      </>
   )
}

export default Dropdown